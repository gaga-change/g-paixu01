### 01 菜单对象问题
> 菜单为空时，获取名字报错

#### 方法一

一开始就不设菜单对象为空

繁点：

* 获取名字时需要在页面内判断是否为空
* 需要$set赋值

#### 方法二

名字通过计算属性获得

繁点：

* 数据间接获得

### 02 数据流通分析

#### 需求

* 初始值都获取完毕后，自动请求一次数据，参数通过当前的资料获取。
* 每次切换菜单完毕自动请求数据，参数通过当前资料获取
* 数据保留
* 可以进行数据追加，和数据更新

简化后

* 在数据处理完毕后，**获取数据**
* 切换菜单后，**获取数据**
* 获取数据后保留到 数组中
* 数组子对象设计
	* naem`string`
	* sort_map `Object`
	* list 'Array'

#### 虚拟实现设计

获取数据方法
* 参数一 ：top/bottom  参数二 ： 保留
* 先获取到选中菜单
* 根据选中的菜单找到数组中存放数据的对象，如果不存在则创建,改方式为bottom
* 根据数据对象，判定page和pageCount的值,如果为 top，设 0和 1
* 根据当前的资料，凑成一个 body
* 根据这个body,调用post请求方法，获取数据
* 把数据合并到当前的数据对象的数组中
* bottom
* 	追加到后面，如果重复，不消除重复。但页内显示。功能待定
* top
* 	追加到前面，如果有缺失，不消除列表数据，正常显示。功能待定
* 返回一个 promise

post请求方法封装

* 参数为 url`string`  body `Object`  option `Object`
* 返回值为一个 promise

#### 方法处理时间

* 数据初始化后 调用一次 **获取数据方法 bottom**
* 自动获取菜单项的方法内，调用 **获取数据方法 top**
* 加载数据 **获取数据方法 bottom**
* 更新数据 **获取数据方法 top**

#### 细节处理

* 追加后出现数据重复
* 更新数据发现连不上原先的数据数据
* 商品已经被卖

数据情况
正常：
数据1234567890
123
push
123456
updata
123456
半路数据有更新：
数据 1234567890
push
123
数据 -2 -1 0 1 2 3
push
123123  | 123012 | 123-2-1 0